<div id="formula-binding-target">
    <div class="view">
        <div class="row bottom-separation">
            <div class="col-xs-4 col-sm-4 col-md-4 large-heading">Formulas</div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-md-offset-4 col-sm-offset-4 col-xs-offset-4">
                <div class="btn-group pull-right small-top-separation">
                    <button class="btn btn-primary" data-bind="click: $root.showImportForm">Import Formula</button>
                </div>
            </div>
        </div>

        <div class="row bottom-separation">
            <div class="col-xs-12 col-sm-12 col-md-12 section-synopsis">
                Formulas are imported from external repositories where you can build up an entire ecosystem of components to be installed on a Stack.
            </div>
        </div>

        <table id="formulae" class="table table-bordered ">
            <thead>
                <tr>
                    <th style="width:20%">Title</th>
                    <th style="width:40%">Description</th>
                    <th style="width:35%">Status</th>
                    <th style="width:5%"></th>
                </tr>
            </thead>
            <tbody data-bind="foreach: FormulaStore.collection()">
                <tr data-bind="attr: { class: ($data.public) ? 'success' : '' }">
                    <td>
                        <a href='#' 
                           data-bind="bootstrapPopover: {
                                        content: $root.popoverBuilder($data),
                                        title: 'Formula Components'
                                      },
                                      text: title"></a>
                    </td>
                    <td data-bind="text: description"></td>
                    <td data-bind="text: status_detail"></td>
                    <td>
                        <div class="btn-group" >
                            <a class="btn btn-info btn-sm dropdown-toggle" data-toggle="dropdown" href="#">
                                Action <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu original-dropdown-menu">
                                <li>
                                    <a href="#" data-bind="text: (!public) ? 'Make Public' : 'Make Private', click: $root.share"></a>
                                </li>
                                <li>
                                    <a href="#" data-bind="text:'Delete', click: $root.delete"></a>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>     
            </tbody>
        </table>
    </div>
</div>

<div id="formula-form-container" title="Import Formula" class="stackd-form form-small hide" data-bind="">
    <form id="formula-form">
        <div class="modal-body large-modal-body">
            <div class="form-group">
                <input type="text" class="form-control" id="formula_url" placeholder="Enter repository URL...">
            </div>
        </div>

        <div class="modal-footer" style="margin-top: 40px;">
            <button class="btn btn-danger" data-bind="click: $root.closeFormulaForm">Cancel</button>
            <button class="btn btn-primary" data-bind="click: $root.importFormula">Import</button>
        </div>
    </form>
</div>