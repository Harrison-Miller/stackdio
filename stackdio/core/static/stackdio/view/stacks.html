<div id="stacks-binding-target" data-bind="" class="">
    <div class="view">

        <div class="row bottom-separation">
            <div class="col-xs-4 col-sm-4 col-md-4 large-heading">Stacks</div>
            <div class="col-xs-4 col-sm-4 col-md-4 col-md-offset-4 col-sm-offset-4 col-xs-offset-4">
                <div class="small-top-separation btn-group pull-right">
                    <div class="btn-group pull-right bottom-separation" data-bind="">
                        <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">
                            New Stack from Blueprint
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu original-dropdown-menu" data-bind="foreach: BlueprintStore.collection">
                            <li>
                                <a href="#" data-bind="text: title, click: $root.showStackForm"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="row bottom-separation">
            <div class="col-xs-12 col-sm-12 col-md-12 section-synopsis">
                A Stack is a launched set of instances that you define in a Blueprint. Once a Stack has been launched, you can view it on this page and review the metadata for each Host, modify properties and reprovision, or stop/terminate/start the Stack. For more information on how to manage a Stack, please refer to the <a href="#" data-bind="click: $root.showHelp">help section</a>.
            </div>
        </div>

        <table id="stacks" class="table table-bordered">
            <thead>
                <tr>
                    <th style="width:20%">Title</th>
                    <th style="width:50%">Description</th>
                    <th style="width:20%">Status History</th>
                    <th style="width:50px"></th>
                </tr>
            </thead>
            <tbody data-bind="foreach: StackStore.collection">
                <tr>
                    <td><a href="#" data-bind="text: $data.title, click: $root.showStackDetails"></a></td>
                    <td data-bind="text: $data.description"></td>
                    <td>
                        <a href='#' 
                           data-bind="bootstrapPopover: {
                                        content: $root.popoverBuilder($data),
                                        title: 'Stack History'
                                      },
                                      text: 'View (' + $data.fullHistory.length + ') messages'"></a>
                    </td>
                    <td>
                        <div class="btn-group">
                            <a class="btn btn-info dropdown-toggle" data-toggle="dropdown" href="#">
                                Action <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu original-dropdown-menu" data-bind="foreach: $root.stackActions">
                                <li>
                                    <a href="#" data-bind="text:$data, click: function (data, event) { $root.doStackAction(data, event, $parent) }"></a>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>     
            </tbody>
        </table>
    </div>
</div>
