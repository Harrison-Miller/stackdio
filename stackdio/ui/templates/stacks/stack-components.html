{% extends 'stacks/stack-detail-base.html' %}

{% block detail-content %}
<div class="col-sm-9 col-sm-pull-3">
{#    {% if has_update %}#}
{#    <h4 class="text-center">Add or remove hosts from this stack</h4>#}
{##}
{#    <div class="row">#}
{#        <div class="col-md-12">#}
{#            <div class="well">#}
{#                <form class="form-inline" data-bind="submit: function () { addRemoveHosts() }">#}
{#                    <div class="row">#}
{#                        <div class="form-group col-md-5">#}
{#                            <label for="blueprint_host_definition" class="sr-only">Host Type</label>#}
{#                            <select id="blueprint_host_definition" class="form-control"#}
{#                                    style="width: 100%"#}
{#                                    data-bind="options: hostDefinitions,#}
{#                                               optionsText: 'title',#}
{#                                               value: selectedHostDef,#}
{#                                               optionsCation: 'Choose a host type...'"></select>#}
{#                        </div>#}
{#                        <div class="form-group col-md-2">#}
{#                            <label for="action" class="sr-only">Action</label>#}
{#                            <select id="action" class="form-control" style="width: 100%"#}
{#                                    data-bind="options: actions, value: selectedAction"></select>#}
{#                        </div>#}
{#                        <div class="form-group col-md-2">#}
{#                            <label for="count" class="sr-only">Count</label>#}
{#                            <input id="count" min="1" type="number" class="form-control"#}
{#                                   style="width: 100%" data-bind="value: actionCount">#}
{#                        </div>#}
{#                        <div class="col-md-3">#}
{#                            <button type="submit" class="btn btn-primary btn-block">Go</button>#}
{#                        </div>#}
{#                    </div>#}
{#                </form>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#    {% endif %}#}

    <div class="row">
        <div class="col-md-12">
            <div class="panel-group" id="stack-components" role="tablist"
                 aria-multiselectable="true" data-bind="foreach: stack.components">
                <div class="panel stackdio-hidden-on-load" data-bind="css: statusPanel">
                    <div class="panel-heading" role="tab" data-bind="attr: {id: htmlId + '-header'}">
                        <h4 class="panel-title">
                            <a role="button" data-toggle="collapse" data-parent="#stack-components"
                               aria-expanded="true"
                               data-bind="text: sls_path, attr: {href: '#' + htmlId, 'aria-controls': htmlId}">
                            </a>
                            &nbsp;|&nbsp;
                            <span class="label" data-bind="css: statusLabel, text: status"></span>
                            <span class="pull-right">Order: <span data-bind="text: order"></span></span>
                        </h4>
                    </div>
                    <div class="panel-collapse collapse" role="tabpanel"
                         data-bind="attr: {id: htmlId, 'aria-labelledby': htmlId + '-header'}">
                        <div class="panel-body"></div>
                        <table class="table">
                            <thead>
                            <tr>
                                <td style="width: 25%">Host</td>
                                <td style="width: 25%">Status</td>
                                <td style="width: 25%">Health</td>
                                <td style="width: 25%">Timestamp</td>
                            </tr>
                            </thead>
                            <tbody data-bind="foreach: hosts">
                            <tr>
                                <td data-bind="text: host"></td>
                                <td><span class="label" data-bind="css: statusLabel, text: status"></span></td>
                                <td><span class="label" data-bind="css: healthLabel, text: health"></span></td>
                                <td data-bind="text: timestamp.calendar()"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}