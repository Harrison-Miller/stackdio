machine:
  python:
    version: '2.7'


## Customize dependencies
dependencies:
  pre:
    - sudo apt-get update
    - sudo apt-get install --fix-broken --ignore-missing -y -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confold" swig
    - (git describe && git fetch --tags) || (git remote add upstream git://github.com/stackdio/stackdio.git && git fetch --tags upstream)
    - pip install --allow-external http://dl.dropbox.com/u/174789/m2crypto-0.20.1.tar.gz

  override:
    - pip install -r requirements/testing.txt

## Customize test commands
test:
  pre:
    - pylint --rcfile=.testing.pylintrc stackdio/server/ && echo 'Finished Pylint Check Cleanly' || echo 'Finished Pylint Check With Errors'
    - pep8 --ignore=E501,E12 --exclude='stackdio/server/*/migrations/*,*/bower_components/*' stackdio/server/ && echo 'Finished PEP-8 Check Cleanly' || echo 'Finished PEP-8 Check With Errors'

  override:
    - exit 0
